# Лабораторна робота №7

# Декоратори

# Завдання

Загальне завдання:
Напишіть декоратори:
1. Для відстежування часу початку та завершення виконання програми
(використовуйте модуль datetime); для симуляції довгих обчислень можна
використовувати sleep().
2. Для декількох запусків функції у разі її неуспішного виконання (функція
виконується успішно з деякою вірогідністю р);
3. Декоратор, що буде додавати у змінну REGISTERED усі продекоровані
функції програми.
    
Умови виконання:
1. Передбачити, що декоратори можуть приймати аргументи.
2. Продемонструвати виклики декораторів за допомогою звичайних викликів
та нотації @. Приклад декорування: @measure_time(timezone=”US/Eastern”).
3. Передбачити, що функції, які будуть декоровані приймають аргументи.
4. Зробити описи Doc strings.
5. Перевірити, що після декорування метадані початкової функції збережені.

# Опис Функціональних вимог:

Завдання 1: Для його виконання було створено новий декоратор "decorator_datatime". Цей декоратор використовує функції datetime.now() та time.sleep(). За допомогою цих функцій декоратор виміряє час за який виконується функція та для наглядності еффекту робить супинку на 1 секунду під час виконання.

Завдання 2: Для його виконання було створено новий декоратор "decorator_probabilities". Цей декоратор використовує random.randint() для отримання випадкового числа для симуляції йомовірності 50% на 50%. Сама функція в разі вдалого виконання повертая основну функцію, а в разі провалу викликає сама себе за допомогою рекурсії і так до того моменту поки не відбудеться вдале виконання.

Завдання 3: Для його виконання було створено новий декоратор "decorator_registered". Цей декоратор використовує .__name__ для отримання наіменування отриманої функції. Для цього декоратора було створено глобальну змінну REGISTERED (list). Функція у декораторі перебирає усі значення глобальної змінної та порівнює із тією функцією, яку використовує зараз. Якщо зівпадіть немає, то він додає її у цю змінну.

# Приклад вхідних даних:

decorator_datatime(function)
    Декроратор для измерения времени работы функции
    
    Аргументы:
    function (function): Функия на которой будет использоваться декоратор
    
    Результат:
    wrapper (function): Функция внутри декоратора (тело и логика декоратора)


wrapper(*arguments)
    Функция внутри декоратора (Основное тело и логика)
    
    Аргументы:
    arguments (any): Переменная, которая что-то содержит
    
    Результат:
    func (function): Возвращает входящую вункцию в виде переменной


decorator_registered(function)
    Декроратор для добавления использованных функций в общий список
    
    Аргументы:
    function (function): Функия на которой будет использоваться декоратор
    
    Результат:
    wrapper (function): Функция внутри декоратора (тело и логика декоратора)


wrapped(*arguments)
    Декроратор для добавления использованных функций в общий список
    
    Аргументы:
    arguments (any): Переменная, которая содержит что-то
    
    Результат:
    func (function): Возвращает входящую вункцию в виде переменной


decorator_probabilities(function)
    Декроратор для измерения времени работы функции
    
    Аргументы:
    function (function): Функия на которой будет использоваться декоратор
    
    Результат:
    wrapper (function): Функция внутри декоратора (тело и логика декоратора)


wrapper(*arguments)
    Функция внутри декоратора (Основное тело и логика)
    
    Аргументы:
    arguments (any): Переменная, которая содержит что-то
    
    Результат:
    func (function): Возвращает входящую вункцию в виде переменной
    wrapper (function): Вызывает саму себя для рекурсии